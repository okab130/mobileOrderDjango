#モバイルオーダシステム の構築

##機能概要
- 飲食店のオーダを、スマホを使った仕組み
- POSレジの仕組みは、別機能で構築とする。

- 顧客の来店から、注文、調理、提供、会計までのイメージ
  1. 顧客：テーブルのQRコードをスマホのカメラで写し、urlにアクセスする。モバイルオーダの画面が表示される。
  2. 顧客：来店人数を入力し、確定する。（セッション開始）
  3. 顧客：商品画像付きメニューを参照し、注文する商品を検討する。
  4. 顧客：商品が決まったら、商品を選択し、数量を決め、注文する。（複数人が各自のスマホから同時注文可能）
  5. 顧客：必要に応じて追加注文する。（追加注文機能）
  6. 店舗：調理場の画面に、注文ダッシュボード（テーブル、商品、数量、注文日時、経過時間、状態）内容、状態が表示される。
  7. 店舗：料理人は、優先度の高い注文から、調理を開始する。注文ダッシュボードのステータスを調理中に変更する
  8. 店舗：料理人は、調理が完成したとき、スーパーバイザの前に料理を提示する。
  9. 店舗：スーパーバイザは、出来上がった料理の出来栄えをチェックし、OKなら、顧客のテーブルへ提供する。提供後、ダッシュボードを提供済にする。 
  10. 顧客：提供された商品を食べる。
  11. 店舗：すべての注文を調理し、顧客へ提供する。ダッシュボードから、会計用のレシートの印刷を指定し、レシートを印刷する。
  12. 顧客：提供された商品を食べる。
  13. 顧客：飲食が終わったら、スマホで、会計ボタンをクリックする。料金が表示される。レシートを持って、レジに行く（テーブル単位の一括会計）
  14. 顧客：お店のレジに進み、POSレジで支払う。（セッション終了）

- 店舗運用のイメージ
  1. テーブル毎に、注文urlが格納されたQRコードを用意する。
  2. メニューに商品、商品画像、値段の登録

##顧客向け機能
- 顧客向け機能は、スマホから、urlアクセスで実現する
- スマホからメニュー閲覧・注文
  - 商品画像付きメニュー表示（一覧：サムネイル、詳細：大サイズ画像）
- 複数人同時注文対応（グループ注文）
  - 同一テーブルで複数人が各自のスマホから同時に注文可能
- 追加注文機能
  - 初回注文後も追加で注文可能
- 売り切れ商品表示
  - 手動で提供可能フラグをOFF設定
- 注文履歴の確認
- 店員呼び出し機能
  - 理由選択式（お水、会計、質問、苦情、その他）

##店舗運用支援機能
- 店舗運用支援機能は、ブラウザ機能で構築する
- テーブル毎の注文データのリアルタイム表示
- メニュー管理・編集機能
  - 商品画像のアップロード機能（ドラッグ&ドロップ対応）
  - 対応形式：JPEG, PNG, WebP（最大2MB）
  - 自動画像リサイズ（サムネイル、大サイズ）
- 売り切れ管理
  - 手動での提供可能フラグ変更（在庫管理機能は不要）
- 売上管理
- オーダー状況や調理ステータス管理
- 会計機能
  - テーブル単位の一括会計のみ（個別会計は非対応）

##開発言語,DB
- python,django,SQLlite

---

##要件詳細（質問回答による明確化事項）

###システム基本仕様
- **URL形式**: `https://example.com/order?table=テーブルID`（引数でテーブル指定）
- **動作環境**: 開発環境のみ（プロトタイプ）、本番環境への考慮は不要
- **初期データ**: テーブル10卓、商品サンプル5-10商品（画像付き）を登録済み状態

###セッション管理
- **セッション開始**: 来店人数入力時に新規セッションを作成
- **セッション終了**: 会計後は新しいセッションとして扱う
- **データ保持**: 会計済みセッションデータは永久保存（売上管理・分析用）

###注文機能
- **注文確定**: 注文ボタン押下時点で即座に調理場ダッシュボードに表示
- **注文数量**: 1商品あたり最小1個、最大10個
- **注文履歴**: 現在セッションのみ表示（商品名、数量、注文時刻、ステータス）
- **注文キャンセル**: 顧客側機能は不要、店員呼び出しで対応

###メニュー管理
- **商品情報**: 商品名、価格、商品画像のみ（説明文・アレルギー情報は不要）
- **商品表示**: 全商品一覧表示（カテゴリ分類機能は不要）
- **画像サイズ**: サムネイル300x300px、大サイズ1200x900px程度（自動リサイズ）
- **画像形式**: JPEG, PNG, WebP（最大2MB）

###調理ステータス管理
- **ステータス種類**: 未着手 → 調理中 → 完成 → 提供済（4段階のみ）
- **ステータス変更**: 調理場ダッシュボードから手動変更
- **優先度**: 注文日時の古い順で自動決定（手動変更不可）
- **表示順**: 注文日時の古い順のみ（並び替え機能不要）

###店員呼び出し機能
- **通知方法**: ダッシュボードに表示
- **対応済み処理**: スタッフが手動で対応済みに変更
- **履歴管理**: 履歴は保存せず、未対応の呼び出しのみ表示

###会計機能
- **レシート印刷**: ブラウザの印刷機能（PDF出力・印刷プレビュー）
- **印刷タイミング**: スタッフが任意のタイミングで実行可能（複数回印刷可）
- **POSレジ連携**: 不要（手入力運用）
- **金額表示**: 合計金額のみ（税の内訳・サービス料は不要）
- **会計ボタン**: セッション開始後、常に表示

###売上管理
- **集計内容**: 日別・月別売上金額、商品別ランキング、時間帯別分析
- **集計期間**: 当月のみ
- **時間帯区分**: 1時間単位（0-1時、1-2時...23-24時）
- **商品ランキング**: 全商品を売上金額順で表示

###認証・ユーザー管理
- **ログイン認証**: 必要（店舗運用支援機能へのアクセス）
- **権限レベル**: 
  - 管理者: 全機能利用可能
  - スタッフ: ダッシュボード・注文管理のみ
- **ユーザー登録**: 管理者のみが実行可能（登録・編集・削除）

###テーブル管理
- **テーブル数**: 10卓（固定）
- **管理画面**: 不要

###画面更新
- **顧客画面**: 手動リロードで最新情報取得（リアルタイム自動更新不要）
- **ダッシュボード**: リアルタイム表示機能の有無は任意


